<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Crypto Clicker</title>
  <style>
    body {
      background: #0f0f0f;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 20px;
    }
    input { padding: 8px; font-size: 16px; margin-bottom: 10px; border-radius: 5px; border: none; }
    .click-button {
      background: linear-gradient(135deg, #00ffa6, #00c3ff);
      color: #000;
      font-weight: bold; /* –ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç */
      padding: 15px 30px;
      font-size: 18px;
      border-radius: 12px;
      cursor: pointer;
      margin: 10px;
      border: none;
      
    }
    /* –£–≤–µ–ª–∏—á–∏–º —Ç–µ–∫—Å—Ç "Tokens: 0" */
     #counter {
    font-size: 36px; /* –ë—ã–ª–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ç–µ–ø–µ—Ä—å –∫—Ä—É–ø–Ω–µ–µ */
    margin-top: 20px;
    font-weight: bold;
    transition: transform 0.2s ease;   
  }
   /* –ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Å .bounce */
    #counter.bounce {
      transform: scale(1.2);
    }
    #levelMessage {
    display: none;
    opacity: 0;
    transition: opacity 1s ease-in-out;
    color: gold;
    font-weight: bold;
    margin-top: 5px;
  }
  #levelMessage.show {
    display: block;
    opacity: 1;
       }
    
    table { margin: 20px auto; border-collapse: collapse; width: 80%; max-width: 600px; }
    th, td { padding: 10px; border-bottom: 1px solid #333; }
    th { background-color: #00c3ff; color: #000; }
    #message { margin-top: 10px; color: #ff5555; }
    .progress-container { background-color: #222; border-radius: 10px; height: 12px; width: 140px; margin: 10px auto; overflow: hidden; box-shadow: 0 0 5px #00ffc8; }
    .progress-bar { height: 100%; background: linear-gradient(90deg, #00ffc8 0%, #00c3ff 100%); width: 0%; transition: width 0.3s ease-in-out; border-radius: 10px; }
    #profilePanel { position: absolute; top: 20px; left: 20px; background-color: #1a1a1a; padding: 15px; border-radius: 12px; box-shadow: 0 0 10px #00c3ff; width: 200px; text-align: left; }
    #profilePanel div { margin: 6px 0; }
    #buttonGroup { margin-top: 180px; }
    #motiveText { /* –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ—Ä–∞–∑ */
      margin-top: 20px;
      font-size: 18px;
      color: #00ffc8;
      text-shadow: 0 0 8px #00ffc8;
      transition: opacity 0.5s ease-in-out;
    }

    .achievement-panel {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, padding 0.4s ease;
  padding: 0 10px;
  background-color: #1a1a1a;
  border-radius: 10px;
  margin-top: 20px;
  box-shadow: 0 0 10px #00c3ff;
}

.achievement-panel.open {
  max-height: 500px; /* —É–≤–µ–ª–∏—á–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –≤—ã—Å–æ—Ç—ã */
  padding: 10px;
}

    
  </style>
</head>

<body>

<div id="profilePanel">
  <div><strong>Player:</strong> <span id="profileName">Anonymous</span></div>
  <div><strong>Level:</strong> <span id="playerLevel">1</span> / 10</div>
  <div><strong>Click Power:</strong> <span id="profileClickPower">1</span></div>
  <div><strong>Autoclicker:</strong> <span id="profileAutoclick">Inactive</span></div>
  <div><strong>Tokens:</strong> <span id="profileTokens">0</span></div>
  <div><button class="click-button" onclick="signOut()">Sign Out</button></div>
</div>

  <div id="playerLevelContainer">
  
  <div id="levelMessage" style="display: none; color: gold; font-weight: bold; margin-top: 5px;">
    <!-- Message will appear here -->
  </div>
</div>


<h1>Crypto Clicker üí∞</h1>

<div id="authSection">
  <button class="click-button" onclick="signInWithGoogle()">Sign in with Google</button>
  
  <!-- –ù–æ–≤—ã–π –±–ª–æ–∫ –º–æ—Ç–∏–≤–∞—Ü–∏–∏ -->
  <div id="motiveText">Click ‚Äî earn tokens.</div>
</div>

<div id="gameSection" style="display:none;">
  <div id="counter">Tokens: 0</div>
  <div id="message"></div>
  <div id="buttonGroup">
    <button class="click-button" onclick="clickToken()">Collect Token</button>
    <button class="click-button" onclick="submitScore()">Save</button>
    <button class="click-button" onclick="toggleShop()">Shop</button>
    <button class="click-button" onclick="toggleAchievements()">üèÜ Achievements</button>

  </div>

  <div id="shop" style="display:none; margin-top: 20px;">
    <h2>üõí Upgrades</h2>
    <p>üí™ Click Power +1 (Cost: 50)</p>
    <p>Current: <span id="clickPowerDisplay">1</span> / 8</p>
    <div class="progress-container">
      <div class="progress-bar" id="clickPowerBar"></div>
    </div>
    <button class="click-button" onclick="buyUpgrade('clickPower')">Buy</button>

    <div style="margin-top: 20px;">
      <p>Autoclicker (Cost: 200)</p>
      <button class="click-button" id="autoclickBtn" onclick="buyUpgrade('autoclick')">Buy</button>
    </div>
  </div>

<div id="achievementsPanel" class="achievement-panel">
  <h2>Achievements</h2>
  <div id="achievementsList"></div>
</div>
  
  

  <h2>Leaderboard</h2>
  <table>
    <thead><tr><th>#</th><th>Player</th><th>Tokens</th></tr></thead>
    <tbody id="leaderboard"></tbody>
  </table>
</div>

<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyBGK_Tuwke5TfltTt9Dtkeh9aWuZkSNFt4",
  authDomain: "cryptoclicker-e6a69.firebaseapp.com",
  databaseURL: "https://cryptoclicker-e6a69-default-rtdb.firebaseio.com",
  projectId: "cryptoclicker-e6a69",
  storageBucket: "cryptoclicker-e6a69.appspot.com",
  messagingSenderId: "290231276060",
  appId: "1:290231276060:web:406a5f2ce9c3a0a354c5d9"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const auth = firebase.auth();

const allAchievements = {
  superClicker: { name: "Super Clicker", description: "Click 10,000 times", reward: "+2 Click Power (2 min)" },
  tokenHoarder: { name: "Token Hoarder", description: "Collect 1,000,000 tokens", reward: "+5 Click Power" },
  level5: { name: "Level 5 Reached", description: "Reach level 5", reward: "+1 Click Power" },
  autoclickerMaster: { name: "Autoclicker Master", description: "Use autoclicker 10 times", reward: "Autoclicker speed x2" }
};
  
  

// >>> –°–Æ–î–ê –≤—Å—Ç–∞–≤–∏—Ç—å <<<
const levelUpRequirements = [
  50000,          // —É—Ä–æ–≤–µ–Ω—å 1 ‚Üí 2
  100000,         // —É—Ä–æ–≤–µ–Ω—å 2 ‚Üí 3
  500000,         // —É—Ä–æ–≤–µ–Ω—å 3 ‚Üí 4
  2500000,        // —É—Ä–æ–≤–µ–Ω—å 4 ‚Üí 5
  50000000,       // —É—Ä–æ–≤–µ–Ω—å 5 ‚Üí 6
  200000000,      // —É—Ä–æ–≤–µ–Ω—å 6 ‚Üí 7
  800000000,      // —É—Ä–æ–≤–µ–Ω—å 7 ‚Üí 8
  3200000000,     // —É—Ä–æ–≤–µ–Ω—å 8 ‚Üí 9
  10000000000     // —É—Ä–æ–≤–µ–Ω—å 9 ‚Üí 10
];  

  
let user = null;
let score = 0;
let clickPower = 1;
let autoclickActive = false;
let autoclickInterval = null;
let autoclickEndTime = 0;
let autoclickCooldown = false;
let currentLevel = 1; // –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —É—Ä–æ–≤–Ω—è  
let totalClicks = 0; // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤
let autoclickerUses = 0; // –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä
let achievements = {}; // –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
let tempBoostTimeout = null; 
  

function updateProfilePanel() {
  document.getElementById("profileClickPower").innerText = clickPower;
  if (autoclickActive) {
    const remaining = Math.max(0, autoclickEndTime - Date.now());
    const seconds = Math.floor(remaining / 1000) % 60;
    const minutes = Math.floor(remaining / 60000);
    document.getElementById("profileAutoclick").innerText = `Active: ${minutes}:${seconds.toString().padStart(2, '0')}`;
  } else {
    document.getElementById("profileAutoclick").innerText = "Inactive";
  }
  // –ù–∞–π—Ç–∏ —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å
  let level = 1;
  for (let i = 0; i < levelUpRequirements.length; i++) {
    if (score >= levelUpRequirements[i]) {
      level = i + 2; // —Ç–∞–∫ –∫–∞–∫ —É—Ä–æ–≤–µ–Ω—å = –∏–Ω–¥–µ–∫—Å + 2
    } else {
      break;
    }
  }

  
/*  const level = Math.min(Math.floor(score / 100) + 1, 10); */
  document.getElementById("playerLevel").innerText = level;
  
  document.getElementById("profileTokens").innerText = score;
  document.getElementById("profileName").innerText = user?.displayName || "Anonymous";

  // Message when maximum level is reached
  const levelMessageElement = document.getElementById("levelMessage");
  if (level === 10) {
    levelMessageElement.innerText = "Maximum level reached!";
   /* levelMessageElement.style.display = "block"; */
    levelMessageElement.classList.add("show");
  } else {
  /*  levelMessageElement.style.display = "none"; */
    levelMessageElement.classList.remove("show");
  }
}

function setClickPower(newPower) {
  clickPower = Math.min(newPower, 8); // –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º—É–º–æ–º 8
  updateClickPowerBar();
  updateProfilePanel();
}
  
  
function boostClickPowerTemporarily(amount, duration) {
  clickPower += amount;
  updateClickPowerBar();
  showMessage(`Temporary boost: Click Power +${amount} for ${duration / 1000} seconds!`);

  if (tempBoostTimeout) clearTimeout(tempBoostTimeout);

  tempBoostTimeout = setTimeout(() => {
    clickPower -= amount;
    updateClickPowerBar();
    showMessage(`Boost expired: Click Power -${amount}`);
  }, duration);
}
  

function toggleAchievements() {
  const panel = document.getElementById('achievementsPanel');
  const btn = document.getElementById('achievementsBtn');
  const isOpen = panel.classList.toggle('open');
  btn.innerHTML = isOpen ? 'üèÜ Achievements ‚ñ≤' : 'üèÜ Achievements ‚ñº';
}
  
function renderAchievements() {
  const list = document.getElementById('achievementsList');
  list.innerHTML = '';

  for (const key in allAchievements) {
    const achieved = achievements[key];
    const ach = allAchievements[key];

    const div = document.createElement('div');
    div.style.marginBottom = '10px';
    div.style.padding = '8px';
    div.style.border = '1px solid #00c3ff';
    div.style.borderRadius = '8px';
    div.style.backgroundColor = achieved ? '#00ffa6' : '#222';
    div.style.color = achieved ? '#000' : '#fff';
    div.innerHTML = `<strong>${ach.name}</strong><br>${ach.description}<br><em>${ach.reward}</em>`;
    list.appendChild(div);
  }
}


  
/*function updateClickPowerBar() {
  document.getElementById("clickPowerDisplay").innerText = clickPower;
  const progress = Math.min((clickPower / 8) * 100, 100);
  document.getElementById("clickPowerBar").style.width = progress + "%";
} */

  function updateClickPowerBar() {
  const displayPower = Math.min(clickPower, 8); // –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –≤–∏–∑—É–∞–ª—å–Ω–æ
  document.getElementById("clickPowerDisplay").innerText = `${displayPower} / 8`;

  const progress = Math.min((displayPower / 8) * 100, 100);
  document.getElementById("clickPowerBar").style.width = progress + "%";
  }
  

function updateCounterDisplay() {
  document.getElementById("counter").innerText = `Tokens: ${score}`;
}

function showMessage(msg) {
  const el = document.getElementById("message");
  el.innerText = msg;
  setTimeout(() => el.innerText = '', 3000);
}

function clickToken() {
  score += clickPower;
  totalClicks++;
  checkAchievements();
  updateCounterDisplay();
  updateProfilePanel();
  animateCounter(); // –¥–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
}
  
function updateCounter() {
  document.getElementById('counter').textContent = `Tokens: ${tokenCount}`;
  document.getElementById('profileTokens').textContent = tokenCount;
}

// –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
function animateCounter() {
  const counter = document.getElementById('counter');
  counter.classList.add('bounce');
  setTimeout(() => {
    counter.classList.remove('bounce');
  }, 200);
}
  
  function checkAchievements() {
  // –°–µ–∫—Ä–µ—Ç–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: 10,000 –∫–ª–∏–∫–æ–≤
  if (!achievements.superClicker && totalClicks >= 20) {
    achievements.superClicker = true;
    boostClickPowerTemporarily(2, 60000); // +2 –Ω–∞ 1 –º–∏–Ω
    showMessage("Secret Achievement Unlocked: Super Clicker! Click Power +2 for 2 minutes!");
    updateClickPowerBar();
    renderAchievements();
    saveAchievements(); // —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É!
    
  }

  // –°–µ–∫—Ä–µ—Ç–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: 1 –º–∏–ª–ª–∏–æ–Ω —Ç–æ–∫–µ–Ω–æ–≤
  if (!achievements.tokenHoarder && score >= 1000000) {
    achievements.tokenHoarder = true;
    clickPower += 5;
    showMessage("Secret Achievement Unlocked: Token Hoarder! Click Power +5!");
    updateClickPowerBar();
    renderAchievements();
    saveAchievements(); // —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É!

  }

  // –°–µ–∫—Ä–µ—Ç–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: –î–æ—Å—Ç–∏–≥ 5 —É—Ä–æ–≤–Ω—è
  const currentLevel = parseInt(document.getElementById("playerLevel").innerText);
  if (!achievements.level5 && currentLevel >= 5) {
    achievements.level5 = true;
    clickPower += 1;
    showMessage("Secret Achievement Unlocked: Level 5 Reached! Click Power +1!");
    updateClickPowerBar();
    renderAchievements();
    saveAchievements(); // —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É!

  }

  // –°–µ–∫—Ä–µ—Ç–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä 10 —Ä–∞–∑
  if (!achievements.autoclickerMaster && autoclickerUses >= 10) {
    achievements.autoclickerMaster = true;
    // –£–¥–≤–æ–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞
    clearInterval(autoclickInterval);
    autoclickInterval = setInterval(() => clickToken(), 500); // 0.5 —Å–µ–∫—É–Ω–¥—ã –≤–º–µ—Å—Ç–æ 1
    showMessage("Secret Achievement Unlocked: Autoclicker Master! Autoclicker speed x2!");
    renderAchievements();
    saveAchievements(); // —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É!

  }
}

function saveAchievements() {
  if (!user) return;
  db.ref("achievements/" + user.uid).set(achievements);
}
  

  
function toggleShop() {
  const shop = document.getElementById("shop");
  shop.style.display = shop.style.display === "none" ? "block" : "none";
}

function startAutoclicker(duration) {
  clearInterval(autoclickInterval);
  autoclickInterval = setInterval(() => clickToken(), 1000);
  setTimeout(() => stopAutoclicker(), duration);

  autoclickerUses++;
  checkAchievements();
}

function stopAutoclicker() {
  clearInterval(autoclickInterval);
  autoclickActive = false;
  autoclickEndTime = 0;
  updateProfilePanel();
  submitScore();
  showMessage("Autoclicker deactivated.");
  setTimeout(() => {
    autoclickCooldown = false;
    document.getElementById("autoclickBtn").disabled = false;
    showMessage("Autoclicker available again.");
  }, 1000);
}

function loadPlayerData(uid) {
  db.ref("leaderboard/" + uid).once("value").then(snapshot => {
    const data = snapshot.val();
    if (data) {
      score = data.score || 0;
      clickPower = data.clickPower || 1;
      autoclickEndTime = data.autoclickEndTime || 0;
      updateCounterDisplay();
      updateClickPowerBar();
      updateProfilePanel();

      if (autoclickEndTime > Date.now()) {
        autoclickActive = true;
        document.getElementById("autoclickBtn").disabled = true;
        startAutoclicker(autoclickEndTime - Date.now());
      } else {
        autoclickActive = false;
        autoclickEndTime = 0;
      }
    }
  });

  db.ref("achievements/" + uid).once("value").then(snapshot => {
  const data = snapshot.val();
  if (data) {
    achievements = data;
    renderAchievements();
  }
});
  
}

function submitScore() {
  if (!user) return;
  db.ref("leaderboard/" + user.uid).set({
    id: user.uid,
    name: user.displayName || "Anonymous",
    score: score,
    clickPower: clickPower,
    autoclickEndTime: autoclickEndTime
  });
}

function buyUpgrade(type) {
  if (type === "clickPower") {
    if (clickPower >= 8) {
      showMessage("Click Power is at maximum!");
      return;
    }
    if (score >= 50) {
      score -= 50;
      clickPower++;
      updateCounterDisplay();
      updateClickPowerBar();
      updateProfilePanel();
      submitScore();
      showMessage("Click Power upgraded!");
    } else {
      showMessage("Not enough tokens for upgrade.");
    }
  } else if (type === "autoclick") {
    if (autoclickCooldown) {
      showMessage("Autoclicker on cooldown.");
      return;
    }
    if (score >= 200) {
      score -= 200;
      updateCounterDisplay();
      showMessage("Autoclicker activated for 1 minute!");
      autoclickCooldown = true;
      autoclickActive = true;
      autoclickEndTime = Date.now() + 60000;
      updateProfilePanel();
      document.getElementById("autoclickBtn").disabled = true;
      startAutoclicker(60000);
      submitScore();
    } else {
      showMessage("Not enough tokens for autoclicker.");
    }
  }
}

function signInWithGoogle() {
  const provider = new firebase.auth.GoogleAuthProvider();
  auth.signInWithPopup(provider).then(result => {
    user = result.user;
    document.getElementById("authSection").style.display = "none";
    document.getElementById("gameSection").style.display = "block";
    loadPlayerData(user.uid);
  }).catch(error => {
    showMessage("Google sign-in failed.");
    console.error(error);
  });
}

function signOut() {
  auth.signOut().then(() => {
    user = null;
    score = 0;
    clickPower = 1;
    autoclickActive = false;
    autoclickEndTime = 0;
    clearInterval(autoclickInterval);
    document.getElementById("authSection").style.display = "block";
    document.getElementById("gameSection").style.display = "none";
    updateCounterDisplay();
    updateClickPowerBar();
    updateProfilePanel();
  });
}

auth.onAuthStateChanged(currentUser => {
  if (currentUser) {
    user = currentUser;
    document.getElementById("authSection").style.display = "none";
    document.getElementById("gameSection").style.display = "block";
    loadPlayerData(user.uid);
  }
});

db.ref("leaderboard").on("value", snapshot => {
  const data = [];
  snapshot.forEach(child => data.push(child.val()));
  data.sort((a, b) => b.score - a.score);
  const leaderboard = document.getElementById("leaderboard");
  leaderboard.innerHTML = "";
  data.slice(0, 10).forEach((entry, index) => {
    leaderboard.innerHTML += `<tr><td>${index + 1}</td><td>${entry.name}</td><td>${entry.score}</td></tr>`;
  });
});

setInterval(() => {
  if (user) {
    updateProfilePanel();
    if (score > 0) submitScore();
  }
}, 1000);

// --- –ù–æ–≤—ã–π –∫–æ–¥ –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏ ---
const motivationalPhrases = [
  "Click ‚Äî earn tokens.", "Sign in ‚Äî save your progress.", "Your crypto journey starts here.", "No account ‚Äî no profit!", "Log in and turn clicks into income!", "The first tokens are always the most valuable.", "Top farmers are waiting for you!", "Level up ‚Äî earn even more tokens!", "Crypto wealth starts with a single click.", "Skip signing in ‚Äî miss the rewards!"

];

let motiveIndex = 0;
const motiveElement = document.getElementById("motiveText");

setInterval(() => {
  motiveElement.style.opacity = 0;
  setTimeout(() => {
    motiveIndex = (motiveIndex + 1) % motivationalPhrases.length;
    motiveElement.innerText = motivationalPhrases[motiveIndex];
    motiveElement.style.opacity = 1;
  }, 500);
}, 3000);
</script>

</body>
</html>
